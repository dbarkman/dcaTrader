# DCA Trading Bot - Cron Configuration Example
# 
# This file shows how to configure cron to run the watchdog script
# every few minutes to ensure the main trading application stays running.
#
# To install this cron job:
# 1. Edit your crontab: crontab -e
# 2. Add one of the lines below (adjust paths as needed)
# 3. Save and exit
#
# The watchdog will:
# - Check if main_app.py is running every 3 minutes
# - Restart it automatically if it's not running
# - Send email alerts if configured
# - Log all actions to logs/watchdog.log

# Run watchdog every 3 minutes
*/3 * * * * cd /home/david/dcaTrader && /usr/bin/python scripts/watchdog.py >> logs/cron.log 2>&1

# Alternative: Run every 5 minutes with explicit Python path
*/5 * * * * cd /home/david/dcaTrader && /usr/bin/python3 scripts/watchdog.py

# Alternative: Run every 2 minutes (more aggressive monitoring)
*/2 * * * * cd /home/david/dcaTrader && python scripts/watchdog.py

# Alternative: Run every minute (maximum monitoring, may be overkill)
# * * * * * cd /home/david/dcaTrader && python scripts/watchdog.py

# Note: Adjust the paths according to your actual installation:
# - Replace /home/david/dcaTrader with your actual project path
# - Replace /usr/bin/python with your actual Python interpreter path
# - Ensure the user running cron has permission to execute the scripts
# - Consider using a virtual environment if your project uses one:
#   */3 * * * * cd /home/david/dcaTrader && /home/david/dcaTrader/venv/bin/python scripts/watchdog.py

# Email Configuration (optional):
# Set these environment variables in your shell profile or cron environment:
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# ALERT_EMAIL_FROM=dca-bot@yourdomain.com
# ALERT_EMAIL_TO=admin@yourdomain.com

# Cron format explanation:
# ┌───────────── minute (0 - 59)
# │ ┌───────────── hour (0 - 23)
# │ │ ┌───────────── day of the month (1 - 31)
# │ │ │ ┌───────────── month (1 - 12)
# │ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)
# │ │ │ │ │
# │ │ │ │ │
# * * * * * command to execute 